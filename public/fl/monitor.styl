@import 'fl/imports'

.fl-monitor
	overflow hidden
	position relative

	&-left-panel
		float left
		size 300px 512px

	&-buttons
		height 30px
		text-align right

	&-log
		height 320px
		margin-bottom 10px
		overflow-y auto

		& > .fl-good
			color #00DD00

		& > .fl-bad
			color #FF0000

	&-help
		color #999999
		font-style italic

	&-map
		float left
		margin-left 10px
		size 512px 512px

	&-panel
		float left
		margin-left 10px
		size 300px 512px

	&-cell
		background black none scroll 0 0 no-repeat
		float left
		position relative
		size 16px 16px

		&.fl-scouted
			background-image url(../images/land.png)

			&.fl-rock
				background-image url(../images/rock.png)

			& > .fl-resource
				display block
				position absolute
				xy 0 0

		& > .fl-unit, & > .fl-base, & > .fl-resource
			display none
			z-index 1

		& > .fl-mining
			opacity .4
			position absolute
			size 16px 16px
			xy 0 0

		& > .fl-border
			position absolute
			size 16px 16px
			xy 0 0

		&.fl-visible
			&[fl-player=n0]
				& > .fl-mining
					background-color #22DD22
				& > .fl-border-0
					border-right 1px solid #44FF44
				& > .fl-border-1
					border-top 1px solid #44FF44
				& > .fl-border-2
					border-left 1px solid #44FF44
				& > .fl-border-3
					border-bottom 1px solid #44FF44

			&[fl-player=n1]
				& > .fl-mining
					background-color #DD2222
				& > .fl-border-0
					border-right 1px solid #FF4444
				& > .fl-border-1
					border-top 1px solid #FF4444
				& > .fl-border-2
					border-left 1px solid #FF4444
				& > .fl-border-3
					border-bottom 1px solid #FF4444

			& > .fl-base
				display block
				position absolute
				xy -2px -2px

			& > .fl-unit
				display block
				position absolute
				xy 0 0

		& > .fl-hold
			border 1px dotted white

		&.fl-selected > .fl-border
			animation-name fl-monitor-selected-anim
			-webkit-animation-name fl-monitor-selected-anim
			animation-duration .5s
			-webkit-animation-duration .5s
			animation-direction alternate
			-webkit-animation-direction alternate
			animation-iteration-count infinite
			-webkit-animation-iteration-count infinite

		& > .fl-order-overlay
		& > .fl-fog
			background black
			opacity .5
			position absolute
			size 16px 16px

		.fl-order-active & > .fl-fog
			display none

@keyframes fl-monitor-selected-anim {
	from {
		background rgba(255, 255, 255, 0)
	}

	to {
		background rgba(255, 255, 255, 1)
	}
}
